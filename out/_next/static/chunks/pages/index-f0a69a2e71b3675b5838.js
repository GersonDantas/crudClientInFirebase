(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7060:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(5893),l=t(7294);var i=function(e){return(0,r.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,r.jsx)("h1",{className:"px-5 py-2 text-2xl",children:e.children}),(0,r.jsx)("hr",{className:"border-2 border-purple-500"})]})};var a=function(e){return(0,r.jsxs)("div",{className:"\n        flex flex-col  w-2/3\n        bg-white text-gray-800 rounded-md\n    ",children:[(0,r.jsx)(i,{children:e.titulo}),(0,r.jsx)("div",{className:"p-6",children:e.children})]})},s=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),c=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});var u=function(e){var n=e.selectedClient||e.deletedClient;function t(n){return(0,r.jsxs)("td",{className:"flex justify-center",children:[!!e.selectedClient&&(0,r.jsx)("button",{onClick:function(){var t;return null===(t=e.selectedClient)||void 0===t?void 0:t.call(e,n)},className:"\n            flex justify-center items-center\n            text-green-600 rounded-full p-2 m-1\n            hover:bg-purple-50\n          ",children:s}),!!e.deletedClient&&(0,r.jsx)("button",{onClick:function(){var t;return null===(t=e.deletedClient)||void 0===t?void 0:t.call(e,n)},className:"\n          flex justify-center items-center\n          text-red-500 rounded-full p-2 m-1\n          hover:bg-purple-50\n        ",children:c})]})}return(0,r.jsxs)("table",{className:"w-full rounded-xl overflow-hidden",children:[(0,r.jsx)("thead",{className:"\n      text-gray-100\n        bg-gradient-to-r from-purple-500 to-purple-600\n      ",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-2",children:"C\xf3digo"}),(0,r.jsx)("th",{className:"text-left p-2",children:"Nome"}),(0,r.jsx)("th",{className:"text-left p-2",children:"Idade"}),!!n&&(0,r.jsx)("th",{className:"p-2",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:function(){var l;return null===(l=e.clients)||void 0===l?void 0:l.map((function(e,l){return(0,r.jsxs)("tr",{className:"".concat(l%2===0?"bg-purple-100":"bg-purple-200"),children:[(0,r.jsx)("td",{className:"text-left p-2",children:e.id}),(0,r.jsx)("td",{className:"text-left p-2",children:e.name}),(0,r.jsx)("td",{className:"text-left p-2",children:e.age}),!!n&&t(e)]},e.id)}))}()})]})};var o=function(e){var n,t=null!==(n=e.color)&&void 0!==n?n:"gray";return(0,r.jsx)("button",{className:"\n        bg-gradient-to-r from-".concat(t,"-500 to-").concat(t,"-400\n        text-white px-4 py-2 rounded-md\n        ").concat(e.className,"\n      "),onClick:e.onClick,children:e.children})},d=t(8216),v=t(5997),f=t(2992),h=t(3142),p=new WeakMap,x=new WeakMap,m=new WeakMap,b=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,d.Z)(this,e),p.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),(0,h.Z)(this,x,n),(0,h.Z)(this,m,t),(0,h.Z)(this,p,r)}return(0,v.Z)(e,[{key:"id",get:function(){return(0,f.Z)(this,p)}},{key:"name",get:function(){return(0,f.Z)(this,x)}},{key:"age",get:function(){return(0,f.Z)(this,m)}}],[{key:"empty",value:function(){return new e("",0)}}]),e}();var j=function(e){var n;return(0,r.jsxs)("div",{className:"flex flex-col ".concat(e.className),children:[(0,r.jsx)("label",{htmlFor:"inputProhited",className:"mb-4",children:e.text}),(0,r.jsx)("input",{id:"inputProhited",type:null!==(n=e.tipe)&&void 0!==n?n:"text",value:e.value,readOnly:e.onlyReading,onChange:function(n){var t;return null===(t=e.valueChanged)||void 0===t?void 0:t.call(e,n.target.value)},className:"\n          border border-purple-500  rounded-lg\n          focus:outline-none bg-gray-100 px-4 py-2\n          ".concat(e.onlyReading?"":"focus:bg-white","\n        ")})]})};var g=function(e){var n,t,i,a,s,c=null===(n=e.client)||void 0===n?void 0:n.id,u=(0,l.useState)(null!==(t=null===(i=e.client)||void 0===i?void 0:i.name)&&void 0!==t?t:""),d=u[0],v=u[1],f=(0,l.useState)(null!==(a=null===(s=e.client)||void 0===s?void 0:s.age)&&void 0!==a?a:0),h=f[0],p=f[1];return(0,r.jsxs)("div",{children:[!!c&&(0,r.jsx)(j,{text:"C\xf3digo",value:c,onlyReading:!0,className:"mb-3"}),(0,r.jsx)(j,{text:"Nome",value:d,valueChanged:v,className:"mb-3"}),(0,r.jsx)(j,{text:"Idade",tipe:"number",value:h,valueChanged:p}),(0,r.jsxs)("div",{className:"flex justify-end mt-5",children:[(0,r.jsx)(o,{color:"blue",className:"mr-3",onClick:function(){var n;return null===(n=e.customerClient)||void 0===n?void 0:n.call(e,new b(d,+h,c))},children:c?"Alterar":"Salvar"}),(0,r.jsx)(o,{onClick:e.cancel,children:"Cancelar"})]})]})},w=t(809),C=t.n(w),N=t(266),y=t(6850),k=(t(6257),t(4155));y.Z.apps.length||y.Z.initializeApp({apiKey:k.env.NEXT_PUBLIC_FIREBASE__API_KEY,authDomain:k.env.NEXT_PUBLIC_FIREBASE__AUTH_DOMAIN,projectId:"next-crud-cffb5"});var _=y.Z,Z=new WeakMap,A=function(){function e(){(0,d.Z)(this,e),Z.set(this,{writable:!0,value:{toFirestore:function(e){return{name:e.name,age:e.age}},fromFirestore:function(e,n){var t=e.data(n);return new b(t.name,t.age,e.id)}}})}return(0,v.Z)(e,[{key:"getAll",value:function(){var e=(0,N.Z)(C().mark((function e(){var n,t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.colection().get();case 2:return t=e.sent,e.abrupt("return",null!==(n=t.docs.map((function(e){return e.data()})))&&void 0!==n?n:[]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,N.Z)(C().mark((function e(n){var t,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.id){e.next=6;break}return e.next=3,this.colection().doc(n.id).set(n);case 3:return e.abrupt("return",n);case 6:return e.next=8,this.colection().add(n);case 8:return t=e.sent,e.next=11,t.get();case 11:return r=e.sent,e.abrupt("return",r.data());case 13:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,N.Z)(C().mark((function e(n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.colection().doc(n.id).delete());case 1:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"colection",value:function(){return _.firestore().collection("clients").withConverter((0,f.Z)(this,Z))}}]),e}();function E(){var e=new A,n=function(){var e=(0,l.useState)("table"),n=e[0],t=e[1];return{tableVisible:"table"===n,visibleTable:function(){return t("table")},visibleForm:function(){return t("form")}}}(),t=n.visibleForm,r=n.visibleTable,i=n.tableVisible,a=function(){var e=(0,l.useState)(b.empty()),n=e[0],t=e[1],r=(0,l.useState)([]),i=r[0],a=r[1];return{client:n,clients:i,setOneClient:function(e){return t(e)},setAllClients:function(e){return a(e)}}}(),s=a.setOneClient,c=a.setAllClients,u=a.client,o=a.clients;function d(){e.getAll().then((function(e){c(e),r()}))}function v(){return(v=(0,N.Z)(C().mark((function n(t){return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.delete(t);case 2:d();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(){return(f=(0,N.Z)(C().mark((function n(t){return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.save(t);case 2:d();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,l.useEffect)(d,[]),{saveClient:function(e){return f.apply(this,arguments)},getAll:d,newClient:function(){s(b.empty()),t()},selectedClient:function(e){s(e),t()},deletedClient:function(e){return v.apply(this,arguments)},tableVisible:i,visibleTable:r,visibleForm:t,clients:o,client:u}}function F(){var e=E(),n=e.selectedClient,t=e.newClient,l=e.deletedClient,i=e.saveClient,s=e.tableVisible,c=e.visibleTable,d=e.clients,v=e.client;return(0,r.jsx)("div",{className:"\n        flex justify-center items-center h-screen\n        bg-gradient-to-r from-blue-500 to-purple-500\n        text-white \n      ",children:(0,r.jsx)(a,{titulo:"Cadastro simples",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(o,{color:"blue",className:"mb-4",onClick:t,children:"Novo Cliente"})}),(0,r.jsx)(u,{clients:d,selectedClient:n,deletedClient:l})]}):(0,r.jsx)(g,{client:v,cancel:function(){return c},customerClient:i})})})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7060)}])}},function(e){e.O(0,[259,724,834,579,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);